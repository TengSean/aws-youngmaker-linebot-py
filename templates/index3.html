<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<title>Adaptive Thumbnail Pile Effect with Automatic Grouping</title>
		<meta name="description" content="Thumbnail Pile Effect with Automatic Grouping" />
		<meta name="keywords" content="jquery, pile, effect, images, grid, thumbnails, css3, grouping, albums" />
		<meta name="author" content="Codrops" />
<!-- 		<link rel="shortcut icon" href="../favicon.ico">  -->
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
		<link rel="stylesheet" type="text/css" href="static/css/demo.css" />
		<link rel="stylesheet" type="text/css" href="static/css/stapel.css" />
		<link rel="stylesheet" type="text/css" href="static/css/custom.css" />

        
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<!--         <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> -->
<!--         <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js'></script> -->

        
		<script src="static/js/modernizr.custom.63321.js"></script>
		<!--[if lte IE 7]><style>.support-note .note-ie{display:block;}</style><![endif]-->
	</head>
	<body>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css"/>
        
		<div class="container" >	

			
			<header class="clearfix">

                <form>
                    <a href=# id=put><button class='btn btn-default'>Test</button></a>
                    <a href=# id=get><button class='btn btn-default'>Test</button></a>
                </form>
				
			</header>
			
			<section class="main">
				
				<div class="wrapper">

					<div class="topbar">
						<span id="close" class="back">&larr;</span>
						<h2>Dribbble's Talent</h2><h3 id="name"></h3>
					</div>
					
					<ul id="tp-grid" class="tp-grid">
                        {% for item in Item %}
                        <li  data-pile="{{item.pile}}">
							<a class="fancybox" data-fancybox="images" rel="ligthbox" href="{{item.url}}">
<!-- 								<span class="tp-info"><span>Flu &amp; You</span></span> -->
								<img src="{{item.url}}" />
							</a>
						</li>
                        {% endfor %}
                        
<!-- 						<li data-pile="Bryan Moats">
							<a href="http://drbl.in/cmVe">
								<span class="tp-info"><span>Flu &amp; You</span></span>
								<img src="static/images/1/1.jpg" />
							</a>
						</li>
						<li data-pile="Bryan Moats">
							<a href="http://drbl.in/cmhM">
								<span class="tp-info"><span>Test Your Flu IQ</span></span>
								<img src="static/images/1/2.jpg" />
							</a>
						</li>
						<li data-pile="Bryan Moats">
							<a href="http://drbl.in/eKdt">
								<span class="tp-info"><span>Unexpected Fatherly Faces and Feelings</span></span>
								<img src="static/images/1/3.jpg" />
							</a>
						</li>


						<li data-pile="Mike Dornseif">
							<a href="http://drbl.in/eiUm">
								<span class="tp-info"><span>On to Easter</span></span>
								<img src="static/images/2/1.jpg" />
							</a>
						</li>
						<li data-pile="Mike Dornseif">
							<a href="http://drbl.in/ekMY">
								<span class="tp-info"><span>Love Birds</span></span>
								<img src="static/images/2/2.jpg" />
							</a>
						</li>
						<li data-pile="Mike Dornseif">
							<a href="http://drbl.in/esQV">
								<span class="tp-info"><span>Here Fishy fishy</span></span>
								<img src="static/images/2/3.jpg" />
							</a>
						</li>

						<li data-pile="Griffin Moore">
							<a href="http://drbl.in/fzUB">
								<span class="tp-info"><span>Briefcase</span></span>
								<img src="static/images/3/1.jpg" />
							</a>
						</li>
						<li data-pile="Griffin Moore">
							<a href="http://drbl.in/fQEv">
								<span class="tp-info"><span>Clipboard</span></span>
								<img src="static/images/3/2.jpg" />
							</a>
						</li>
						<li data-pile="Griffin Moore">
							<a href="http://drbl.in/fREU">
								<span class="tp-info"><span>Sweet pack</span></span>
								<img src="static/images/3/3.jpg" />
							</a>
						</li>

						<li data-pile="Andrea Austoni">
							<a href="http://drbl.in/cyWa">
								<span class="tp-info"><span>Growth in 2012 (Holiday Card)</span></span>
								<img src="static/images/4/1.jpg" />
							</a>
						</li>
						<li data-pile="Andrea Austoni">
							<a href="http://drbl.in/cRkb">
								<span class="tp-info"><span>Grady Wilson</span></span>
								<img src="static/images/4/2.jpg" />
							</a>
						</li>
						<li data-pile="Andrea Austoni">
							<a href="http://drbl.in/cSKM">
								<span class="tp-info"><span>More Cowbell</span></span>
								<img src="static/images/4/3.jpg" />
							</a>
						</li> -->

					</ul>
				</div>
			</section>

		</div><!-- /container -->
        <script type="text/javascript" src="static/js/jquery.stapel.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js"></script>
        <script src="static/js/stapel_script.js"></script>

		<script type="text/javascript">	

            
            
			$(function() {

				var $grid = $( '#tp-grid' ),
					$name = $( '#name' ),
					$close = $( '#close' ),
					$loader = $( '<div class="loader"><i></i><i></i><i></i><i></i><i></i><i></i><span>Loading...</span></div>' ).insertBefore( $grid ),
					stapel = $grid.stapel( {
						randomAngle : true,
						delay : 10,
						gutter : 70,
						pileAngles : 5,
						pileAnimation: {
							openSpeed:400,						
							closeSpeed:400
						},
						onLoad : function() {
							$loader.remove();
						},
						onBeforeOpen : function( pileName ) {
							$name.html( pileName );
						},
						onAfterOpen : function( pileName ) {
							$close.show();
						}
					} );

				$close.on( 'click', function() {
					$close.hide();
					$name.empty();
					stapel.closePile();
				} );

			} );
            $(function() {
              $('a#put').on('click', function(e) {
                e.preventDefault()
                $.getJSON('/put_test',
                    function(data) {
                  //do nothing
                });
                return false;
              });
            });
            $(function() {
              $('a#get').on('click', function(e) {
                e.preventDefault()
                $.getJSON('/get_test',
                    function(data) {
                  //do nothing
                });
                return false;
              });
            });
            


		</script>
	</body>
</html>
